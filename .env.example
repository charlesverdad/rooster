# Rooster Environment Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# DATABASE
# =============================================================================
POSTGRES_USER=rooster
POSTGRES_PASSWORD=rooster
POSTGRES_DB=rooster

# =============================================================================
# BACKEND
# =============================================================================
# IMPORTANT: Change this to a secure random string in production!
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=change-me-in-production

# Frontend URL (for invite links in emails)
APP_URL=http://localhost:3000

# Debug mode (set to false in production)
DEBUG=false

# =============================================================================
# CORS
# =============================================================================
# Comma-separated list of allowed origins, or "*" for all
CORS_ORIGINS=*

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================
# Enable/disable email sending
EMAIL_ENABLED=false

# Email provider: "smtp" or "resend"
EMAIL_PROVIDER=smtp

# --- SMTP Settings (for EMAIL_PROVIDER=smtp) ---
# For Gmail, use smtp.gmail.com with an App Password
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=
SMTP_FROM_NAME=Rooster
SMTP_USE_TLS=true

# --- Resend Settings (for EMAIL_PROVIDER=resend) ---
# Get your API key from https://resend.com
RESEND_API_KEY=

# =============================================================================
# WEB PUSH NOTIFICATIONS (VAPID)
# =============================================================================
# Generate keys at https://vapidkeys.com or use:
# python -c "from py_vapid import Vapid; v = Vapid(); v.generate_keys(); print(v.public_key, v.private_key)"
VAPID_PUBLIC_KEY=
VAPID_PRIVATE_KEY=
VAPID_SUBJECT=mailto:admin@example.com

# =============================================================================
# DOCKER PORTS
# =============================================================================
BACKEND_PORT=8000
FRONTEND_PORT=3000
# Proxy port (used by docker-compose.prod.yaml and docker-compose.tunnel.yaml)
PROXY_PORT=8080

# =============================================================================
# FRONTEND BUILD
# =============================================================================
# API URL for frontend to connect to backend
# In production with the proxy, use /api (relative URL)
# In development without proxy, use http://localhost:8000/api
API_BASE_URL=http://localhost:8000/api

# =============================================================================
# PRODUCTION DEPLOYMENT
# =============================================================================
# To deploy in production:
#
# 1. Copy this file to .env and set all values above
# 2. Generate a strong SECRET_KEY and POSTGRES_PASSWORD
# 3. Set APP_URL and CORS_ORIGINS to your domain (e.g., https://rooster.example.com)
# 4. Enable email (EMAIL_ENABLED=true) and configure SMTP or Resend
# 5. Generate VAPID keys for push notifications
# 6. Run: docker compose -f docker-compose.yaml -f docker-compose.prod.yaml up --build -d
# 7. Put a reverse proxy (Caddy recommended) in front for HTTPS on port 8080
#
# The proxy serves:
#   /           -> Landing page (static)
#   /api/*      -> Backend API
#   /*          -> Flutter web app (login, register, dashboard, etc.)
